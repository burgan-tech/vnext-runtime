{
  "ApplicationName": "vnext-execution",
  "ConnectionStrings": {
    "Default": "Host=vnext-postgres;Port=5432;Database=vNext_WorkflowDb;Username=postgres;Password=postgres;"
  },
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning"
    }
  },
  "vNextApi": {
    "BaseUrl": "http://vnext-app:5000",
    "ApiVersion": "1",
    "TimeoutSeconds": 30,
    "MaxRetryAttempts": 3,
    "RetryDelayMilliseconds": 1000,
    "CircuitBreakerFailureThreshold": 20,
    "CircuitBreakerTimeoutSeconds": 30,
    "EnableCircuitBreakerBypass": true,
    "InternalOperationHeader": "X-Internal-Operation"
  },
  "ResponseCompression": {
    "Enable": true,
    "Providers": ["gzip"],
    "EnableForHttps": true,
    "MimeTypes": [],
    "ExcludedMimeTypes": []
  },
  "Redis": {
    "Mode": "Standalone",
    "InstanceName": "workflow-api",
    "ConnectionTimeout": 5000,
    "DefaultDatabase": 0,
    "Password": "",
    "Ssl": false,
    "Standalone": {
      "EndPoints": ["vnext-redis:6379"]
    },
    "RetryPolicy": {
      "MaxRetries": 3,
      "RetryTimeout": 1000
    }
  },
  "Telemetry": {
    "ServiceName": "vnext-execution-app",
    "ServiceNamespace": "BBT.Workflow.Execution",
    "ServiceVersion": "1.0.0",
    "TracingEnabled": true,
    "MetricsEnabled": true,
    "LoggingEnabled": true,
    "Otlp": {
      "Endpoint": "http://otel-collector:4317",
      "Protocol": "grpc"
    },
    "Tracing": {
      "EnableConsoleExporter": true,
      "EnableOtlpExporter": true,
      "ExcludedPaths": ["/health", "/metrics", "/live", "/ready", "/swagger/*"],
      "AdditionalSources": []
    },
    "Metrics": {
      "EnableConsoleExporter": true,
      "EnableOtlpExporter": true,
      "AdditionalMeters": []
    },
    "Logging": {
      "EnableConsoleExporter": true,
      "EnableOtlpExporter": true,
      "IncludeFormattedMessage": true,
      "IncludeScopes": true,
      "ParseStateValues": true,
      "ExcludedPaths": ["/health", "/metrics", "/live", "/ready", "/swagger/*"],
      "Enrichers": {
        "Headers": [],
        "CustomAttributes": {

        }
      }
    }
  },
  "AllowedHosts": "*",
  "Runtime": {
    "EnableSchemaMigration": false
  },
  "TaskFactory": {
    "UseObjectPooling": false,
    "MaxPoolSize": 50,
    "InitialPoolSize": 5,
    "EnableMetrics": true,
    "PooledTaskTypes": [
      "DaprServiceTask",
      "HttpTask",
      "ScriptTask",
      "ConditionTask",
      "DaprBindingTask",
      "DaprHttpEndpointTask",
      "DaprPubSubTask",
      "DaprServiceTask",
      "HumanTask"
    ]
  },
  "Vault": {
    "Enabled": false
  },
  "ClickHouse": {
    "Enabled": false,
    "ConnectionString": "Host=vnext-clickhouse;Port=8123;Database=workflow_analytics;Username=default;Password=;",
    "BatchSize": 1000,
    "FlushIntervalSeconds": 5,
    "RetryAttempts": 3,
    "RetryDelayMilliseconds": 1000,
    "Tables": {
      "Instances": "instances",
      "InstanceTransitions": "instance_transitions",
      "InstanceTasks": "instance_tasks"
    }
  },
  "DaprEventPublisher": {
    "PubSubName": "vnext-pubsub",
    "PublishInParallel": true,
    "ContinueOnError": false,
    "ThrowAggregateException": false,
    "TopicNamingStrategy": "AggregateType"
  },
  "DaprNotification": {
    "ComponentName": "notificationbinding"
  }
}
